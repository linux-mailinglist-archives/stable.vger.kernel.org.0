Return-Path: <stable-owner@vger.kernel.org>
X-Original-To: lists+stable@lfdr.de
Delivered-To: lists+stable@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 13888271FE0
	for <lists+stable@lfdr.de>; Mon, 21 Sep 2020 12:19:02 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726534AbgIUKSy (ORCPT <rfc822;lists+stable@lfdr.de>);
        Mon, 21 Sep 2020 06:18:54 -0400
Received: from mx2.suse.de ([195.135.220.15]:54592 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1726532AbgIUKSy (ORCPT <rfc822;stable@vger.kernel.org>);
        Mon, 21 Sep 2020 06:18:54 -0400
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
        by mx2.suse.de (Postfix) with ESMTP id A105DAFB4;
        Mon, 21 Sep 2020 10:19:29 +0000 (UTC)
Date:   Mon, 21 Sep 2020 12:18:53 +0200
Message-ID: <s5hft7bph4i.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Hans de Goede <hdegoede@redhat.com>
Cc:     Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Dan Crawford <dnlcrwfrd@gmail.com>, stable@vger.kernel.org
Subject: Re: Sound regression in 5.8.8 caused by "ALSA: hda - Fix silent audio output and corrupted input on MSI X570-A PRO"
In-Reply-To: <5a58e0f2-b3d3-104e-73be-5f8a59178a7b@redhat.com>
References: <7efd2fe5-bf38-7f85-891a-eee3845d1493@redhat.com>
        <20200917143142.GC3941575@kroah.com>
        <5a58e0f2-b3d3-104e-73be-5f8a59178a7b@redhat.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <stable.vger.kernel.org>
X-Mailing-List: stable@vger.kernel.org

On Thu, 17 Sep 2020 16:42:01 +0200,
Hans de Goede wrote:
> 
> Hi,
> 
> On 9/17/20 4:31 PM, Greg Kroah-Hartman wrote:
> > On Wed, Sep 16, 2020 at 08:28:29AM +0200, Hans de Goede wrote:
> >> Hi All,
> >>
> >> This bug got filed against Fedora last night:
> >> https://bugzilla.redhat.com/show_bug.cgi?id=1879277
> >> "1879277 - Audio ducking after Linux kernel 5.8.8 update, with headphones plugged in"
> >>
> >> The system in the bug is using a MSI X570-A PRO motherboard. So this is almost
> >> certainly (this has not been confirmed) caused by commit 8e83bd51016a in the
> >> stable tree: "ALSA: hda - Fix silent audio output and corrupted input on MSI X570-A PRO".
> >>
> >> I'm not sure how to proceed with this one for the stable series,
> >> I guess a revert is in order, but that may (re)break non headphone usage?
> >
> > If you revert, then 5.9-final will also cause the same problem, right?
> >
> > Or is all ok there?
> 
> The reporter has not tested 5.9, but I assume that 5.9 final will also have this problem.

This quirk addition would work equally on both 5.8 and 5.9, so very
likely hit the same issue on 5.9.  I'll queue the revert of the commit
15cbff3fbbc6.

And I noticed that the BugLink URL in the commit doesn't seem pointing
to the right report.

Dan, could you give the proper URL so that we can track which device
is actually being worked on?


thanks,

Takashi
