Return-Path: <stable-owner@vger.kernel.org>
X-Original-To: lists+stable@lfdr.de
Delivered-To: lists+stable@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 0C6BB2D721C
	for <lists+stable@lfdr.de>; Fri, 11 Dec 2020 09:48:32 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2436982AbgLKInl (ORCPT <rfc822;lists+stable@lfdr.de>);
        Fri, 11 Dec 2020 03:43:41 -0500
Received: from mx2.suse.de ([195.135.220.15]:51682 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S2436969AbgLKImm (ORCPT <rfc822;stable@vger.kernel.org>);
        Fri, 11 Dec 2020 03:42:42 -0500
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
        by mx2.suse.de (Postfix) with ESMTP id 0F115ACBD;
        Fri, 11 Dec 2020 08:42:00 +0000 (UTC)
Date:   Fri, 11 Dec 2020 09:41:59 +0100
Message-ID: <s5hy2i4pwdk.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Pavel Machek <pavel@denx.de>
Cc:     Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        linux-kernel@vger.kernel.org, stable@vger.kernel.org,
        Takashi Iwai <tiwai@suse.de>
Subject: Re: [PATCH 4.19 15/39] ALSA: hda/generic: Add option to enforce preferred_dacs pairs
In-Reply-To: <20201211083621.GA9395@duo.ucw.cz>
References: <20201210142602.272595094@linuxfoundation.org>
        <20201210142603.037114540@linuxfoundation.org>
        <20201211083621.GA9395@duo.ucw.cz>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <stable.vger.kernel.org>
X-Mailing-List: stable@vger.kernel.org

On Fri, 11 Dec 2020 09:36:21 +0100,
Pavel Machek wrote:
> 
> Hi!
> 
> > From: Takashi Iwai <tiwai@suse.de>
> > 
> > commit 242d990c158d5b1dabd166516e21992baef5f26a upstream.
> > 
> > The generic parser accepts the preferred_dacs[] pairs as a hint for
> > assigning a DAC to each pin, but this hint doesn't work always
> > effectively.  Currently it's merely a secondary choice after the trial
> > with the path index failed.  This made sometimes it difficult to
> > assign DACs without mimicking the connection list and/or the badness
> > table.
> > 
> > This patch adds a new flag, obey_preferred_dacs, that changes the
> > behavior of the parser.  As its name stands, the parser obeys the
> 
> Option added is never used as variable is never set. We don't need
> this in 4.19.

Right, it seems that the succeeding fix is queued only for 5.4 and
5.9.

OTOH, this change will help if another quirk is added in near future,
and it's pretty safe to apply, so I think it's worth to keep it.


thanks,

Takashi
