Return-Path: <stable-owner@vger.kernel.org>
X-Original-To: lists+stable@lfdr.de
Delivered-To: lists+stable@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 3316D2E834A
	for <lists+stable@lfdr.de>; Fri,  1 Jan 2021 09:03:15 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726974AbhAAIC7 (ORCPT <rfc822;lists+stable@lfdr.de>);
        Fri, 1 Jan 2021 03:02:59 -0500
Received: from mx2.suse.de ([195.135.220.15]:52622 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1726957AbhAAIC6 (ORCPT <rfc822;stable@vger.kernel.org>);
        Fri, 1 Jan 2021 03:02:58 -0500
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
        by mx2.suse.de (Postfix) with ESMTP id 08361AD09;
        Fri,  1 Jan 2021 08:02:17 +0000 (UTC)
Date:   Fri, 01 Jan 2021 09:02:16 +0100
Message-ID: <s5hble9axvb.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Pavel Machek <pavel@ucw.cz>
Cc:     Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        linux-kernel@vger.kernel.org, stable@vger.kernel.org,
        stable@kernel.org, Connor McAdams <conmanx360@gmail.com>,
        Takashi Iwai <tiwai@suse.de>
Subject: Re: [PATCH 4.19 267/346] ALSA: hda/ca0132 - Change Input Source enum strings.
In-Reply-To: <20201231181542.GA28026@amd>
References: <20201228124919.745526410@linuxfoundation.org>
        <20201228124932.680293903@linuxfoundation.org>
        <20201231181542.GA28026@amd>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <stable.vger.kernel.org>
X-Mailing-List: stable@vger.kernel.org

On Thu, 31 Dec 2020 19:15:42 +0100,
Pavel Machek wrote:
> 
> Hi!
> 
> > From: Connor McAdams <conmanx360@gmail.com>
> > 
> > commit 7079f785b50055a32b72eddcb7d9ba5688db24d0 upstream.
> > 
> > Change the Input Source enumerated control's strings to make it play
> > nice with pulseaudio.
> 
> > +++ b/sound/pci/hda/patch_ca0132.c
> > @@ -106,7 +106,7 @@ enum {
> >  };
> >  
> >  /* Strings for Input Source Enum Control */
> > -static const char *const in_src_str[3] = {"Rear Mic", "Line", "Front Mic" };
> > +static const char *const in_src_str[3] = { "Microphone", "Line In", "Front Microphone" };
> >  #define IN_SRC_NUM_OF_INPUTS 3
> 
> If pulseaudio expects the strings to be from small set, should we have
> defines for them?
> 
> If pulseaudio can't understand short versions, do these need fixing,
> too?

I don't believe so.  Even if PA really doesn't understand, it's a
problem of PA itself to be fixed there.

In this particular case, we changed the driver side since it's an
easier path and very specific to the certain model.  But if it's about
the generic parser that is applied to all models, it's a different
story.


thanks,

Takashi
